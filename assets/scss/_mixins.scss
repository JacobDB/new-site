// Styles written by Jacob Bearce | jacob@bearce.me

@import "vendors/media-queries";

@mixin clear {
    &:before,
    &:after {
        content: "";
        display: table;
    }
    &:after {
        clear: both;
    }
    *zoom: 1;
}

@mixin flex-fix {
    .flexbox & {
        float: none;
    }
}

@mixin position($position, $args) {
    @each $o in top right bottom left {
        $i: index($args, $o);
        @if $i and $i + 1 <= length($args) and type-of(nth($args, $i + 1)) == number {
            #{$o}: nth($args, $i + 1);
        }
    }
    position: $position;
}

@mixin absolute($args) {
    @include position("absolute", $args);
}

@mixin fixed($args) {
    @include position("fixed", $args);
}

@mixin relative($args) {
    @include position("relative", $args);
}

@mixin placeholder {
    ::-webkit-input-placeholder {@content}
    :-moz-placeholder {@content}
    ::-moz-placeholder {@content}
    :-ms-input-placeholder {@content}
    .placeholder {@content}
}

// rem/em stuff

/// background

@mixin background-size($x, $y: null, $base: 16, $unit: rem) {
    @if $y == null {
        background-size: ($x + px);
        background-size: ($x / $base) + $unit;
    } @else {
        background-size: ($x + px) ($y + px);
        background-size: (($x / $base) + $unit) (($y / $base) + $unit);
    }
}

/// border

@mixin border($size, $style, $color, $base: 16, $unit: rem) {
    border: ($size + px) $style $color;
    border-width: ($size / $base) + $unit;
}

@mixin border-top($size, $style, $color, $base: 16, $unit: rem) {
    border-top: ($size + px) $style $color;
    border-top-width: ($size / $base) + $unit;
}

@mixin border-right($size, $style, $color, $base: 16, $unit: rem) {
    border-right: ($size + px) $style $color;
    border-right-width: ($size / $base) + $unit;
}

@mixin border-bottom($size, $style, $color, $base: 16, $unit: rem) {
    border-bottom: ($size + px) $style $color;
    border-bottom-width: ($size / $base) + $unit;
}

@mixin border-left($size, $style, $color, $base: 16, $unit: rem) {
    border-left: ($size + px) $style $color;
    border-left-width: ($size / $base) + $unit;
}

/// border radius

@mixin border-radius($top, $right: null, $bottom: null, $left: null, $base: 16, $unit: em) {
    border-radius: {
        top: $top + px;
        @if $right != null {
            right: $right + px;
            @if $left == null {
                left: $right + px;
            }
        }
        @if $bottom != null {
            bottom: $bottom + px;
        } @else {
            bottom: $top + px;
        }
        @if $left != null {
            left: $left + px;
        }
        @if $right == null and $bottom == null and $left == null {
            right: $top + px;
            bottom: $top + px;
            left: $top + px;
        }
    }
}

/// box shadow

@mixin box-shadow($x, $y, $blur, $spread: 0, $color: #000, $base: 16, $unit: rem) {
    box-shadow: ($x + px) ($y + px) ($blur + px) ($spread + px) $color;
    box-shadow: (($x / $base) + $unit) (($y / $base) + $unit) (($blur / $base) + $unit) (($spread / $base) + $unit) $color;
}

/// font

@mixin font-size($size, $base: 16, $unit: rem) {
    font-size: $size + px;
    font-size: ($size / $base) + $unit;
}

@mixin line-height($size, $base: 16, $unit: rem) {
    line-height: $size + px;
    line-height: ($size / $base) + $unit;
}

/// margin

@mixin margin($top, $right: null, $bottom: null, $left: null, $base: 16, $unit: rem) {
    margin: {
        top: $top + px;
        @if $right != null {
            right: $right + px;
            @if $left == null {
                left: $right + px;
            }
        }
        @if $bottom != null {
            bottom: $bottom + px;
        } @else {
            bottom: $top + px;
        }
        @if $left != null {
            left: $left + px;
        }
        @if $right == null and $bottom == null and $left == null {
            right: $top + px;
            bottom: $top + px;
            left: $top + px;
        }
    }
    margin: {
        top: ($top / $base) + $unit;
        @if $right != null {
            right: ($right / $base) + $unit;
            @if $left == null {
                left: ($right / $base) + $unit;
            }
        }
        @if $bottom != null {
            bottom: ($bottom / $base) + $unit;
        } @else {
            bottom: ($top / $base) + $unit;
        }
        @if $left != null {
            left: ($left / $base) + $unit;
        }
        @if $right == null and $bottom == null and $left == null {
            right: ($top / $base + $unit);
            bottom: ($top / $base) + $unit;
            left: ($top / $base) + $unit;
        }
    }
}

/// padding

@mixin padding($top, $right: null, $bottom: null, $left: null, $base: 16, $unit: rem) {
    padding: {
        top: $top + px;
        @if $right != null {
            right: $right + px;
            @if $left == null {
                left: $right + px;
            }
        }
        @if $bottom != null {
            bottom: $bottom + px;
        } @else {
            bottom: $top + px;
        }
        @if $left != null {
            left: $left + px;
        }
        @if $right == null and $bottom == null and $left == null {
            right: $top + px;
            bottom: $top + px;
            left: $top + px;
        }
    }
    padding: {
        top: ($top / $base) + $unit;
        @if $right != null {
            right: ($right / $base) + $unit;
            @if $left == null {
                left: ($right / $base) + $unit;
            }
        }
        @if $bottom != null {
            bottom: ($bottom / $base) + $unit;
        } @else {
            bottom: ($top / $base) + $unit;
        }
        @if $left != null {
            left: ($left / $base) + $unit;
        }
        @if $right == null and $bottom == null and $left == null {
            right: ($top / $base + $unit);
            bottom: ($top / $base) + $unit;
            left: ($top / $base) + $unit;
        }
    }
}

/// position

@mixin top($size, $base: 16, $unit: rem) {
    top: $size + px;
    top: ($size / $base) + $unit;
}

@mixin right($size, $base: 16, $unit: rem) {
    right: $size + px;
    right: ($size / $base) + $unit;
}

@mixin bottom($size, $base: 16, $unit: rem) {
    bottom: $size + px;
    bottom: ($size / $base) + $unit;
}

@mixin left($size, $base: 16, $unit: rem) {
    left: $size + px;
    left: ($size / $base) + $unit;
}

/// size

@mixin height($size, $base: 16, $unit: rem) {
    height: $size + px;
    height: ($size / $base) + $unit;
}

@mixin max-height($size, $base: 16, $unit: rem) {
    max-height: $size + px;
    max-height: ($size / $base) + $unit;
}

@mixin min-height($size, $base: 16, $unit: rem) {
    min-height: $size + px;
    min-height: ($size / $base) + $unit;
}

@mixin width($size, $base: 16, $unit: rem) {
    width: $size + px;
    width: ($size / $base) + $unit;
}

@mixin max-width($size, $base: 16, $unit: rem) {
    max-width: $size + px;
    max-width: ($size / $base) + $unit;
}

@mixin min-width($size, $base: 16, $unit: rem) {
    min-width: $size + px;
    min-width: ($size / $base) + $unit;
}

/// other

@mixin remify($property, $value, $base: 16, $unit: rem) {
    #{$property}: $value + px;
    #{$property}: ($value / $base) + $unit;
}
