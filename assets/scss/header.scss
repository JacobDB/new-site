// Styles written by Jacob Bearce | jacob@bearce.me

#headerWrapper {
    header {
        @include clear;

        nav {
			background: $theme-color;
			float: left;
			position: relative;
			width: 100%;
			z-index: 999;

            @include max-screen(639px) {
                position: static;
            }

            @include clear;

            & > button {
                background: darken($theme-color, 15%);
                display: none;
                float: right;
                @include font-size(16);
                @include height(40, 16, em);
                margin: 0;
                padding: 0;
                position: relative;
                text-indent: -999em;
                @include width(40, 16, em);

                &:before,
                em,
                &:after {
                    background: #FFF;
                    content: "\0020";
                    display: block;
                    @include height(4, 16, em);
                    @include left(10, 16, em);
                    position: absolute;
                    transition: left 0.25s, top 0.25s, transform 0.25s, width 0.25s;
                    @include width(20, 16, em);
                }

                .navopen &:before,
                .navopen &:after {
                    @include left(20, 16, em);
                    @include width(10, 16, em);
                }

                &:before {
                    @include top(11, 16, em);

                    .navopen & {
                        @include top(15, 16, em);
                        transform: rotate(45deg);
                    }
                }

                em {
                    @include top(18, 16, em);

                    .navopen & {
                        @include width(18, 16, em);
                    }
                }

                &:after {
                    @include top(25, 16, em);

                    .navopen & {
                        @include top(21, 16, em);
                        transform: rotate(-45deg);
                    }
                }

                @include max-screen(639px) {
                    display: block;
                }
            }

            ul {
				float: right;
				list-style: none;
				margin: 0 auto;
				padding: 0;
				position: relative;
				right: 50%;
				text-align: center;
				width: auto;
				z-index: 999;

                @include clear;

                li {
					float: left;
					left: 50%;
					position: relative;
                    transition: background 0.25s;

                    &:hover {
                        background: $accent-color;
                    }

                    a {
                        color: #FFF;
						display: block;
						padding: 8px 10px;

                        // tablet/desktop button support
                        /*
                        &[aria-haspopup=true] {
                            padding-right: 35px;
                        }
                        */
                    }

                    &.menu-item-has-children a {
                        @include max-screen(639px) {
                            padding-right: 40px;
                        }
                    }

                    // sub list
                    ul {
                        background: lighten($theme-color, 15%);
						left: -999em;
						opacity: 0;
						position: absolute;
						text-align: left;
						top: 100%;
                        transition: opacity 0.25s 0s, left 0s 0.25s;
						@include width(200, 16, em);

                        @include max-screen(639px) {
                            left: auto;
                            max-height: 0;
                            opacity: 1;
                            overflow: hidden;
                            position: static;
                            top: auto;
                            transition: max-height 0.5s;
                            width: auto;
                        }

                        li {
							float: none;
							left: auto;
							width: 100%;

                            // tablet/desktop button support
                            /*
                            button {
                                @include min-screen(640px) {
                                    transform: rotate(-90deg);
                                }
                            }
                            */

                            // sub sub list
                            ul {
                                background: lighten(lighten($theme-color, 15%), 15%);
								top: 0;
                                @include width(250, 16, em);
                            }

                            &:hover > ul {
                                left: 100%;
                            }
                        }
                    }

                    &:hover > ul {
						left: 0;
						opacity: 1;

                        @include min-screen(640px) {
                            transition: opacity 0.25s 0s, left 0s 0s;
                        }
                    }
                }
            }
        }
    }
}
